    $(document).ready(function() {&#xD;&#xA;      $('button.btn-success').click(function() {&#xD;&#xA;        var itemID = $(this).closest('tr').attr('id');&#xD;&#xA;        console.log(itemID);&#xD;&#xA;        // Create a reference to $(this) here:&#xD;&#xA;        $this = $(this);&#xD;&#xA;        $.post('updateSelections.php', {&#xD;&#xA;          itemID: itemID,&#xD;&#xA;          selectionType: 'yes'&#xD;&#xA;        }, function(data) {&#xD;&#xA;          data = JSON.parse(data);&#xD;&#xA;          if (data.error) {&#xD;&#xA;            var ajaxError = (data.text);&#xD;&#xA;            console.log(ajaxError);&#xD;&#xA;            console.log('something was wrong with the ajax request');&#xD;&#xA;            $this.closest('tr').addClass("warning");&#xD;&#xA;            //make alert visible&#xD;&#xA;            $("#alert_ajax_error").show();&#xD;&#xA;            return; // stop executing this function any further&#xD;&#xA;          } else {&#xD;&#xA;            console.log('update successful - success add class to table row');&#xD;&#xA;            $this.closest('tr').addClass("success");&#xD;&#xA;            $this.closest('tr').removeClass("danger");&#xD;&#xA;            //$(this).closest('tr').attr('class','success');&#xD;&#xA;          }&#xD;&#xA;        }).fail(function(xhr) {&#xD;&#xA;          console.log('ajax request failed');&#xD;&#xA;          // no data available in this context&#xD;&#xA;          $this.closest('tr').addClass("warning");&#xD;&#xA;          //make alert visible&#xD;&#xA;          $("#alert_ajax_error").show();&#xD;&#xA;        });&#xD;&#xA;      });&#xD;&#xA;    });