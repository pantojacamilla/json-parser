    $(function() {&#xD;&#xA;      var draw = SVG('drawing').size(1024, 1020);&#xD;&#xA;      // Define all your triangle points&#xD;&#xA;      var v0 = {&#xD;&#xA;        x: 58,&#xD;&#xA;        y: 845&#xD;&#xA;      };&#xD;&#xA;      var v1 = {&#xD;&#xA;        x: 984,&#xD;&#xA;        y: 845&#xD;&#xA;      };&#xD;&#xA;      var v2 = {&#xD;&#xA;        x: 521,&#xD;&#xA;        y: 41&#xD;&#xA;      };&#xD;&#xA;      var triangle = [v0, v1, v2];&#xD;&#xA;      // Define all your segments here&#xD;&#xA;      var segments = [{&#xD;&#xA;        points: [{&#xD;&#xA;          x: 58,&#xD;&#xA;          y: 845&#xD;&#xA;        }, {&#xD;&#xA;          x: 272,&#xD;&#xA;          y: 845&#xD;&#xA;        }, {&#xD;&#xA;          x: 567,&#xD;&#xA;          y: 333&#xD;&#xA;        }, {&#xD;&#xA;          x: 461,&#xD;&#xA;          y: 150&#xD;&#xA;        }],&#xD;&#xA;        fill: 'rgb(172,236,222)',&#xD;&#xA;        label: {&#xD;&#xA;          text: 'D1',&#xD;&#xA;          cx: 300,&#xD;&#xA;          cy: 645,&#xD;&#xA;          withLine: false,&#xD;&#xA;          endX: null,&#xD;&#xA;          endY: null&#xD;&#xA;        },&#xD;&#xA;      }, {&#xD;&#xA;        points: [{&#xD;&#xA;          x: 272,&#xD;&#xA;          y: 845&#xD;&#xA;        }, {&#xD;&#xA;          x: 567,&#xD;&#xA;          y: 333&#xD;&#xA;        }, {&#xD;&#xA;          x: 646,&#xD;&#xA;          y: 468&#xD;&#xA;        }, {&#xD;&#xA;          x: 572,&#xD;&#xA;          y: 597&#xD;&#xA;        }, {&#xD;&#xA;          x: 716,&#xD;&#xA;          y: 845&#xD;&#xA;        }],&#xD;&#xA;        fill: 'deepskyblue',&#xD;&#xA;        label: {&#xD;&#xA;          text: 'D2',&#xD;&#xA;          cx: 490,&#xD;&#xA;          cy: 645,&#xD;&#xA;          withLine: false,&#xD;&#xA;          endX: null,&#xD;&#xA;          endY: null&#xD;&#xA;        },&#xD;&#xA;      }, {&#xD;&#xA;        points: [{&#xD;&#xA;          x: 716,&#xD;&#xA;          y: 845&#xD;&#xA;        }, {&#xD;&#xA;          x: 845,&#xD;&#xA;          y: 845&#xD;&#xA;        }, {&#xD;&#xA;          x: 683,&#xD;&#xA;          y: 565&#xD;&#xA;        }, {&#xD;&#xA;          x: 734,&#xD;&#xA;          y: 476&#xD;&#xA;        }, {&#xD;&#xA;          x: 503,&#xD;&#xA;          y: 76&#xD;&#xA;        }, {&#xD;&#xA;          x: 461,&#xD;&#xA;          y: 150&#xD;&#xA;        }, {&#xD;&#xA;          x: 646,&#xD;&#xA;          y: 468&#xD;&#xA;        }, {&#xD;&#xA;          x: 572,&#xD;&#xA;          y: 595&#xD;&#xA;        }],&#xD;&#xA;        fill: 'lightCyan',&#xD;&#xA;        label: {&#xD;&#xA;          text: 'DT',&#xD;&#xA;          cx: 656,&#xD;&#xA;          cy: 645,&#xD;&#xA;          withLine: false,&#xD;&#xA;          endX: 366,&#xD;&#xA;          endY: 120&#xD;&#xA;        },&#xD;&#xA;      }, { //here - I am in hell.-s5&#xD;&#xA;        points: [{&#xD;&#xA;          x: 530,&#xD;&#xA;          y: 59&#xD;&#xA;        }, {&#xD;&#xA;          x: 512,&#xD;&#xA;          y: 59&#xD;&#xA;        }, {&#xD;&#xA;          x: 521,&#xD;&#xA;          y: 41&#xD;&#xA;        }],&#xD;&#xA;        fill: 'black',&#xD;&#xA;        label: {&#xD;&#xA;          text: 'PD',&#xD;&#xA;          cx: 600,&#xD;&#xA;          cy: 52,&#xD;&#xA;          withLine: true,&#xD;&#xA;          endX: 520,&#xD;&#xA;          endY: 70&#xD;&#xA;        },&#xD;&#xA;      }, {&#xD;&#xA;        points: [{&#xD;&#xA;          x: 595,&#xD;&#xA;          y: 235&#xD;&#xA;        }, {&#xD;&#xA;          x: 614,&#xD;&#xA;          y: 203&#xD;&#xA;        }, {&#xD;&#xA;          x: 530,&#xD;&#xA;          y: 59&#xD;&#xA;        }, {&#xD;&#xA;          x: 512,&#xD;&#xA;          y: 59&#xD;&#xA;        }, {&#xD;&#xA;          x: 503,&#xD;&#xA;          y: 76&#xD;&#xA;        }],&#xD;&#xA;        fill: 'navajoWhite',&#xD;&#xA;        label: {&#xD;&#xA;          text: 'T1',&#xD;&#xA;          cx: 670,&#xD;&#xA;          cy: 140,&#xD;&#xA;          withLine: true,&#xD;&#xA;          endX: 574,&#xD;&#xA;          endY: 105&#xD;&#xA;        },&#xD;&#xA;      }, {&#xD;&#xA;        points: [{&#xD;&#xA;          x: 753,&#xD;&#xA;          y: 446&#xD;&#xA;        }, {&#xD;&#xA;          x: 735,&#xD;&#xA;          y: 476&#xD;&#xA;        }, {&#xD;&#xA;          x: 595,&#xD;&#xA;          y: 235&#xD;&#xA;        }, {&#xD;&#xA;          x: 614,&#xD;&#xA;          y: 203&#xD;&#xA;        }],&#xD;&#xA;        fill: 'tan',&#xD;&#xA;        label: {&#xD;&#xA;          text: 'T2',&#xD;&#xA;          cx: 800,&#xD;&#xA;          cy: 290,&#xD;&#xA;          withLine: true,&#xD;&#xA;          endX: 662,&#xD;&#xA;          endY: 120&#xD;&#xA;        },&#xD;&#xA;      }, {&#xD;&#xA;        points: [{&#xD;&#xA;          x: 845,&#xD;&#xA;          y: 845&#xD;&#xA;        }, {&#xD;&#xA;          x: 683,&#xD;&#xA;          y: 565&#xD;&#xA;        }, {&#xD;&#xA;          x: 753,&#xD;&#xA;          y: 446&#xD;&#xA;        }, {&#xD;&#xA;          x: 984,&#xD;&#xA;          y: 845&#xD;&#xA;        }],&#xD;&#xA;        fill: 'peru',&#xD;&#xA;        label: {&#xD;&#xA;          text: 'T3',&#xD;&#xA;          cx: 800,&#xD;&#xA;          cy: 645,&#xD;&#xA;          withLine: false,&#xD;&#xA;          endX: null,&#xD;&#xA;          endY: null&#xD;&#xA;        },&#xD;&#xA;      }, ];&#xD;&#xA;      // label styles&#xD;&#xA;      var labelfontsize = 12;&#xD;&#xA;      var labelfontface = 'verdana';&#xD;&#xA;      var labelpadding = 3;&#xD;&#xA;      var arrowheadLength = 10;&#xD;&#xA;      var arrowheadWidth = 8;&#xD;&#xA;      //var arrowhead=document.createElement('canvas');&#xD;&#xA;      //  premakeArrowhead();&#xD;&#xA;      for (var i = 0; i < segments.length; i++) {&#xD;&#xA;        drawSegment(segments[i]);&#xD;&#xA;      }&#xD;&#xA;      // draw ticklines&#xD;&#xA;      ticklines(v0, v1, 9, Math.PI * 1.2, 20, true);&#xD;&#xA;      ticklines(v1, v2, 9, Math.PI * 3 / 4, 20, true);&#xD;&#xA;      ticklines(v2, v0, 9, Math.PI * 2, 20, false);&#xD;&#xA;      // draw molecules&#xD;&#xA;      //moleculeLabel(v0,v1,100,Math.PI/2,'% CH4');&#xD;&#xA;      //moleculeLabel(v1,v2,100,0,'% C2H4');&#xD;&#xA;      //moleculeLabel(v2,v0,100,Math.PI,'% C2H2');&#xD;&#xA;      // draw outer triangle&#xD;&#xA;      drawTriangle(triangle);&#xD;&#xA;      // draw legend&#xD;&#xA;      //drawLegend(legendTexts,10,10,12.86);&#xD;&#xA;      function drawTriangle(t) {&#xD;&#xA;        var triangle = draw.path('M ' + t[0].x + ' ' + t[0].y + ' L ' + t[1].x + ' ' + t[1].y + ' ' + t[2].x + ' ' + t[2].y + ' Z')&#xD;&#xA;          .attr({&#xD;&#xA;            fill: "transparent",&#xD;&#xA;            stroke: "black",&#xD;&#xA;            "stroke-width": "2"&#xD;&#xA;          });&#xD;&#xA;      }&#xD;&#xA;      function drawSegment(s) {&#xD;&#xA;        // draw and fill the segment path&#xD;&#xA;        var str = 'M ' + s.points[0].x + ' ' + s.points[0].y;&#xD;&#xA;        for (var i = 1; i < s.points.length; i++) {&#xD;&#xA;          str = str.concat(' L ' + s.points[i].x + ' ' + s.points[i].y);&#xD;&#xA;        }&#xD;&#xA;        str = str.concat(' Z');&#xD;&#xA;        draw.path(str).attr({&#xD;&#xA;          fill: s.fill,&#xD;&#xA;          stroke: "black",&#xD;&#xA;          "stroke-width": "2"&#xD;&#xA;        });&#xD;&#xA;        // draw segment's box label&#xD;&#xA;        //    if(s.label.withLine){&#xD;&#xA;        //        lineBoxedLabel(s,labelfontsize,labelfontface,labelpadding);&#xD;&#xA;        //    }else{&#xD;&#xA;        //        boxedLabel(s,labelfontsize,labelfontface,labelpadding);&#xD;&#xA;        //    }&#xD;&#xA;      }&#xD;&#xA;      function ticklines(start, end, count, angle, length, isReversed) {&#xD;&#xA;        var dx = end.x - start.x;&#xD;&#xA;        var dy = end.y - start.y;&#xD;&#xA;        //  ctx.lineWidth=1;&#xD;&#xA;        for (var i = 1; i < count; i++) {&#xD;&#xA;          var x0 = parseInt(start.x + dx * i / count);&#xD;&#xA;          var y0 = parseInt(start.y + dy * i / count);&#xD;&#xA;          var x1 = parseInt(x0 + length * Math.cos(angle));&#xD;&#xA;          var y1 = parseInt(y0 + length * Math.sin(angle));&#xD;&#xA;          draw.path('M ' + x0 + ' ' + y0 + ' L ' + x1 + ' ' + y1).attr({&#xD;&#xA;            stroke: "black",&#xD;&#xA;            "stroke-width": "1"&#xD;&#xA;          });&#xD;&#xA;          if (i == 2 || i == 4 || i == 6 || i == 8) {&#xD;&#xA;            var labelOffset = length;&#xD;&#xA;            var x1 = parseInt(x0 - labelOffset * Math.cos(angle));&#xD;&#xA;            var y1 = parseInt(y0 - labelOffset * Math.sin(angle));&#xD;&#xA;            if (!isReversed) {&#xD;&#xA;              var text = draw.text(function(add) {&#xD;&#xA;                add.tspan(parseInt(i * 10))&#xD;&#xA;              }).path(' M ' + x1 + ' ' + y1 + ' L ' + x0 + ' ' + y0);&#xD;&#xA;            } else {&#xD;&#xA;              var text = draw.text(function(add) {&#xD;&#xA;                add.tspan(parseInt(i * 10))&#xD;&#xA;              }).path(' M ' + x0 + ' ' + y0 + ' L ' + x1 + ' ' + y1);&#xD;&#xA;            }&#xD;&#xA;          }&#xD;&#xA;        }&#xD;&#xA;      }&#xD;&#xA;    });