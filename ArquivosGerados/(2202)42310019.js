    var video_data = document.getElementById("video");&#xD;&#xA;    &#xD;&#xA;    var timeStarted = -1;&#xD;&#xA;    var timePlayed = 0;&#xD;&#xA;    var duration = 0;&#xD;&#xA;    &#xD;&#xA;    // If video metadata is loaded get duration&#xD;&#xA;    if(video_data.readyState > 0)&#xD;&#xA;        getDuration.call(video_data);&#xD;&#xA;    //If metadata not loaded, use event to get it&#xD;&#xA;    else {&#xD;&#xA;        video_data.addEventListener('loadedmetadata', getDuration);&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    // remember time user started the video&#xD;&#xA;    function videoStartedPlaying() {&#xD;&#xA;        timeStarted = new Date().getTime()/1000;&#xD;&#xA;        setInterval(function(){&#xD;&#xA;            playedFor = new Date().getTime()/1000 - timeStarted;&#xD;&#xA;            checkpoint = playedFor / duration;&#xD;&#xA;            percentComplete = video_data.currentTime/video_data.duration;&#xD;&#xA;    &#xD;&#xA;            // here I need help of how to best accomplish this&#xD;&#xA;            if (percentComplete >= 0.8 && checkpoint >= 0.8) {&#xD;&#xA;                // AJAX call here&#xD;&#xA;            }&#xD;&#xA;        }, 2000);&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    function videoStoppedPlaying(event) {&#xD;&#xA;        // Start time less then zero means stop event was fired vidout start event&#xD;&#xA;        if(timeStarted>0) {&#xD;&#xA;            var playedFor = new Date().getTime()/1000 - timeStarted;&#xD;&#xA;            timeStarted = -1;&#xD;&#xA;            // add the new amount of seconds played&#xD;&#xA;            timePlayed+=playedFor;&#xD;&#xA;        }&#xD;&#xA;    &#xD;&#xA;        // Count as complete only if end of video was reached&#xD;&#xA;        if(timePlayed>=duration && event.type=="ended") {&#xD;&#xA;            // AJAX call here&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    function getDuration() {&#xD;&#xA;        duration = video_data.duration;&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    video_data.addEventListener("play", videoStartedPlaying);&#xD;&#xA;    video_data.addEventListener("playing", videoStartedPlaying);&#xD;&#xA;    video_data.addEventListener("ended", videoStoppedPlaying);&#xD;&#xA;    video_data.addEventListener("pause", videoStoppedPlaying);