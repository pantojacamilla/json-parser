    package xxxxxx.xxxxxxx.xxxxxx.com;&#xD;&#xA;    &#xD;&#xA;    import java.io.File;&#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;    import com.google.android.gms.ads.AdRequest;&#xD;&#xA;    import com.google.android.gms.ads.AdView;&#xD;&#xA;    import com.google.android.gms.ads.MobileAds;&#xD;&#xA;    &#xD;&#xA;    import android.os.Bundle;&#xD;&#xA;    import android.support.v7.app.ActionBarActivity;&#xD;&#xA;    import android.view.Menu;&#xD;&#xA;    import android.view.MenuItem;&#xD;&#xA;    &#xD;&#xA;    import android.annotation.SuppressLint;&#xD;&#xA;    import android.app.ActionBar;&#xD;&#xA;    import android.app.ActionBar.Tab;&#xD;&#xA;    import android.app.FragmentTransaction;&#xD;&#xA;    import android.content.ActivityNotFoundException;&#xD;&#xA;    import android.content.Context;&#xD;&#xA;    import android.content.Intent;&#xD;&#xA;    import android.net.Uri;&#xD;&#xA;    import android.os.Bundle;&#xD;&#xA;    import android.os.Handler;&#xD;&#xA;    import android.support.v4.app.FragmentActivity;&#xD;&#xA;    import android.support.v4.view.ViewPager;&#xD;&#xA;    import android.util.Log;&#xD;&#xA;    import android.view.Menu;&#xD;&#xA;    import android.view.MenuItem;&#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;    public class MainActivity extends FragmentActivity implements&#xD;&#xA;    ActionBar.TabListener {&#xD;&#xA;    	&#xD;&#xA;    	private AdView mAdView;&#xD;&#xA;    &#xD;&#xA;    	protected void onCreate(Bundle savedInstanceState) {&#xD;&#xA;    	super.onCreate(savedInstanceState);&#xD;&#xA;    	    setContentView(R.layout.activity_main);&#xD;&#xA;            &#xD;&#xA;            MobileAds.initialize(this, "ca-app-pub-xxxxxxxxxxx/xxxxxxxxxxxx");&#xD;&#xA;    &#xD;&#xA;            mAdView = (AdView) findViewById(R.id.ad_View);&#xD;&#xA;            &#xD;&#xA;            &#xD;&#xA;            AdRequest adRequest = new AdRequest.Builder()&#xD;&#xA;                    .build();&#xD;&#xA;            &#xD;&#xA;            mAdView.loadAd(adRequest);&#xD;&#xA;            &#xD;&#xA;        }&#xD;&#xA;    	&#xD;&#xA;    	&#xD;&#xA;        &#xD;&#xA;    boolean firstResume = true;&#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;    private ViewPager viewPager;&#xD;&#xA;    private TabsAdapter mAdapter;&#xD;&#xA;    private ActionBar actionBar;&#xD;&#xA;    Handler handler1 = new Handler();&#xD;&#xA;    private Context context;&#xD;&#xA;    private int i = 0;&#xD;&#xA;    private boolean exitAds = false;&#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;    private String[] tabs = { "Account", "Downloads" };&#xD;&#xA;    &#xD;&#xA;    @SuppressLint("NewApi")&#xD;&#xA;    @Override&#xD;&#xA;    protected void onCreate(Bundle savedInstanceState) {&#xD;&#xA;    super.onCreate(savedInstanceState);&#xD;&#xA;    setContentView(R.layout.activity_main);&#xD;&#xA;    &#xD;&#xA;    context = this;&#xD;&#xA;    String mBaseFolderPath = android.os.Environment&#xD;&#xA;    		.getExternalStorageDirectory()&#xD;&#xA;    		+ File.separator&#xD;&#xA;    		+ "Videos2" + File.separator;&#xD;&#xA;    if (!new File(mBaseFolderPath).exists()) {&#xD;&#xA;    	new File(mBaseFolderPath).mkdir();&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    // Initilization&#xD;&#xA;    viewPager = (ViewPager) findViewById(R.id.pager);&#xD;&#xA;    actionBar = getActionBar();&#xD;&#xA;    mAdapter = new TabsAdapter(getSupportFragmentManager());&#xD;&#xA;    &#xD;&#xA;    viewPager.setAdapter(mAdapter);&#xD;&#xA;    actionBar.setHomeButtonEnabled(false);&#xD;&#xA;    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);&#xD;&#xA;    &#xD;&#xA;    // Adding Tabs&#xD;&#xA;    for (String tab_name : tabs) {&#xD;&#xA;    	actionBar.addTab(actionBar.newTab().setText(tab_name)&#xD;&#xA;    			.setTabListener(this));&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    /**&#xD;&#xA;     * on swiping the viewpager make respective tab selected&#xD;&#xA;     * */&#xD;&#xA;    viewPager.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {&#xD;&#xA;    &#xD;&#xA;    	@Override&#xD;&#xA;    	public void onPageSelected(int position) {&#xD;&#xA;    		// on changing the page&#xD;&#xA;    		// make respected tab selected&#xD;&#xA;    		actionBar.setSelectedNavigationItem(position);&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    	@Override&#xD;&#xA;    	public void onPageScrolled(int arg0, float arg1, int arg2) {&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    	@Override&#xD;&#xA;    	public void onPageScrollStateChanged(int arg0) {&#xD;&#xA;    	}&#xD;&#xA;    });&#xD;&#xA;    &#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    @Override&#xD;&#xA;    protected void onResume() {&#xD;&#xA;    super.onResume();&#xD;&#xA;    if (!firstResume) {&#xD;&#xA;    &#xD;&#xA;    } else {&#xD;&#xA;    	firstResume = false;&#xD;&#xA;    }&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    @Override&#xD;&#xA;    public void onTabReselected(Tab tab, FragmentTransaction ft) {&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    @Override&#xD;&#xA;    public void onTabSelected(Tab tab, FragmentTransaction ft) {&#xD;&#xA;    // on tab selected&#xD;&#xA;    // show respected fragment view&#xD;&#xA;    viewPager.setCurrentItem(tab.getPosition());&#xD;&#xA;    if (tab.getPosition() == 1) {&#xD;&#xA;    	Log.e("UPDATED", "DOWNLOADS SELECTED");&#xD;&#xA;    	final DownloadsFragment fragment = ((DownloadsFragment) getSupportFragmentManager()&#xD;&#xA;    			.findFragmentByTag("android:switcher:" + R.id.pager + ":1"));&#xD;&#xA;    	fragment.updateDownloads();&#xD;&#xA;    &#xD;&#xA;    	// if (i == 0) {&#xD;&#xA;    	// i++;&#xD;&#xA;    	// } else if (i > 0) {&#xD;&#xA;    	// }&#xD;&#xA;    &#xD;&#xA;    } // else&#xD;&#xA;    	// displayInterstitial();&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    @Override&#xD;&#xA;    public void onTabUnselected(Tab tab, FragmentTransaction ft) {&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    @Override&#xD;&#xA;    public boolean onCreateOptionsMenu(Menu menu) {&#xD;&#xA;    // Inflate the menu; this adds items to the action bar if it is present.&#xD;&#xA;    getMenuInflater().inflate(R.menu.main, menu);&#xD;&#xA;    return true;&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    @Override&#xD;&#xA;    public boolean onOptionsItemSelected(MenuItem item) {&#xD;&#xA;    // Handle action bar item clicks here. The action bar will&#xD;&#xA;    // automatically handle clicks on the Home/Up button, so long&#xD;&#xA;    // as you specify a parent activity in AndroidManifest.xml.&#xD;&#xA;    int id = item.getItemId();&#xD;&#xA;    if (id == R.id.action_share) {&#xD;&#xA;    	// create the send intent&#xD;&#xA;    	Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);&#xD;&#xA;    &#xD;&#xA;    	// set the type&#xD;&#xA;    	shareIntent.setType("text/plain");&#xD;&#xA;    &#xD;&#xA;    	// add a subject&#xD;&#xA;    	shareIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,&#xD;&#xA;    			"Share App with Friends");&#xD;&#xA;    &#xD;&#xA;    	// build the body of the message to be shared&#xD;&#xA;    	String shareMessage = " Download from any of the links below \n"&#xD;&#xA;    			+ "market://details?id=xxxxxxx.xxxxxxxxxxx.xxxxxx \n"&#xD;&#xA;    			+ "https://play.google.com/store/apps/details?id=xxxxxx.comxxxxxxx.xxx";&#xD;&#xA;    &#xD;&#xA;    	// add the message&#xD;&#xA;    	shareIntent.putExtra(android.content.Intent.EXTRA_TEXT,&#xD;&#xA;    			shareMessage);&#xD;&#xA;    &#xD;&#xA;    	// start the chooser for sharing&#xD;&#xA;    	startActivity(Intent.createChooser(shareIntent, "Share App"));&#xD;&#xA;    	return true;&#xD;&#xA;    }&#xD;&#xA;    if (id == R.id.action_rate) {&#xD;&#xA;    &#xD;&#xA;    	Uri uri = Uri.parse("market://details?id="&#xD;&#xA;    			+ context.getPackageName());&#xD;&#xA;    	Intent goToMarket = new Intent(Intent.ACTION_VIEW, uri);&#xD;&#xA;    	goToMarket.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY&#xD;&#xA;    			| Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET&#xD;&#xA;    			| Intent.FLAG_ACTIVITY_MULTIPLE_TASK);&#xD;&#xA;    	try {&#xD;&#xA;    		startActivity(goToMarket);&#xD;&#xA;    	} catch (ActivityNotFoundException e) {&#xD;&#xA;    		startActivity(new Intent(&#xD;&#xA;    				Intent.ACTION_VIEW,&#xD;&#xA;    				Uri.parse("http://play.google.com/store/apps/details?id="&#xD;&#xA;    						+ context.getPackageName())));&#xD;&#xA;    	}&#xD;&#xA;    	return true;&#xD;&#xA;    &#xD;&#xA;    }&#xD;&#xA;    if (id == R.id.action_exit) {&#xD;&#xA;    	System.exit(0);&#xD;&#xA;    	this.finish();&#xD;&#xA;    }&#xD;&#xA;    return super.onOptionsItemSelected(item);&#xD;&#xA;    &#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    @Override&#xD;&#xA;    public void onBackPressed() {&#xD;&#xA;    &#xD;&#xA;    super.onBackPressed();&#xD;&#xA;    finish();&#xD;&#xA;    &#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    }