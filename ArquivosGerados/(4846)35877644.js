    public class LucesAlarma extends AppCompatActivity {&#xD;&#xA;        TextView NUMEROLA,MENSAJELA;&#xD;&#xA;        Button ENVIARLA,ATRAS;&#xD;&#xA;        IntentFilter intentFilterLA;&#xD;&#xA;        private BroadcastReceiver intentRecieverLA = new BroadcastReceiver(){&#xD;&#xA;            @Override&#xD;&#xA;            public void onReceive(Context context, Intent intent){&#xD;&#xA;                String MENSAJE = intent.getExtras().getString("mensaje");&#xD;&#xA;                String NUMERODELMENSAJE  = intent.getExtras().getString("numero");&#xD;&#xA;                MENSAJELA=(TextView)findViewById(R.id.tvMensajeLA);&#xD;&#xA;                MENSAJELA.setText(MENSAJE+NUMERODELMENSAJE);&#xD;&#xA;            }&#xD;&#xA;        };&#xD;&#xA;        @Override&#xD;&#xA;        protected void onCreate(Bundle savedInstanceState) {&#xD;&#xA;            super.onCreate(savedInstanceState);&#xD;&#xA;            setContentView(R.layout.activity_luces_alarma);&#xD;&#xA;            Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);&#xD;&#xA;            setSupportActionBar(toolbar);&#xD;&#xA;            Intent intent = getIntent();&#xD;&#xA;            final String numeropos =intent.getStringExtra("numero");&#xD;&#xA;            NUMEROLA=(TextView)findViewById(R.id.tvNumeroLA);&#xD;&#xA;            NUMEROLA.setText(numeropos);&#xD;&#xA;            ENVIARLA=(Button)findViewById(R.id.bEnviarLA);&#xD;&#xA;            ENVIARLA.setOnClickListener(new View.OnClickListener() {&#xD;&#xA;                @Override&#xD;&#xA;                public void onClick(View v) {&#xD;&#xA;                    String ELMENSAJE = "1234020";&#xD;&#xA;                    String ELNUMERO = numeropos;&#xD;&#xA;                    EnviarSMS(ELMENSAJE, ELNUMERO);&#xD;&#xA;                    Toast.makeText(getApplicationContext(), "Enviado", Toast.LENGTH_LONG).show();&#xD;&#xA;                }&#xD;&#xA;            });&#xD;&#xA;            ATRAS=(Button)findViewById(R.id.bAtras);&#xD;&#xA;            ATRAS.setOnClickListener(new View.OnClickListener() {&#xD;&#xA;                @Override&#xD;&#xA;                public void onClick(View v) {&#xD;&#xA;                    Intent intentoLA = new Intent(LucesAlarma.this, MainActivity.class);&#xD;&#xA;                    startActivity(intentoLA);&#xD;&#xA;                }&#xD;&#xA;            });&#xD;&#xA;        }&#xD;&#xA;		&#xD;&#xA;        @Override&#xD;&#xA;        protected void onResume() {&#xD;&#xA;            registerReceiver(intentRecieverLA,intentFilterLA);&#xD;&#xA;            super.onResume();&#xD;&#xA;        }&#xD;&#xA;        @Override&#xD;&#xA;        protected void onPause() {&#xD;&#xA;            unregisterReceiver(intentRecieverLA);&#xD;&#xA;            super.onPause();&#xD;&#xA;        }&#xD;&#xA;        protected void EnviarSMS(String elmensaje, String elnumero) {&#xD;&#xA;            SmsManager SMS = SmsManager.getDefault();&#xD;&#xA;            SMS.sendTextMessage(elnumero, null, elmensaje, null, null);&#xD;&#xA;        }&#xD;&#xA;    }