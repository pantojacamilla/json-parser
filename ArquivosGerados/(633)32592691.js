    function config($stateProvider, $urlRouterProvider) {&#xD;&#xA;    $urlRouterProvider.otherwise("/dashboard");&#xD;&#xA;    $stateProvider&#xD;&#xA;    .state('main', {&#xD;&#xA;        url: "/dashboard",&#xD;&#xA;        templateUrl: "app/views/dashboard.html",&#xD;&#xA;        controller: 'MainCtrl',&#xD;&#xA;        data: { pageTitle: 'RAGE', requireLogin: true },&#xD;&#xA;        resolve: {&#xD;&#xA;    	authUser: ['$rootScope', 'loginService', 'userService', function ($rootScope, loginService, userService) {&#xD;&#xA;    	    return loginService.loginModal().then(function (user) {&#xD;&#xA;    		$rootScope.userID = user.userId;&#xD;&#xA;    		initSession(user, $rootScope, loginService, userService);	&#xD;&#xA;    	    })&#xD;&#xA;    	}]&#xD;&#xA;        }&#xD;&#xA;    })&#xD;&#xA;    .state('login', {&#xD;&#xA;        url: "/login",&#xD;&#xA;        templateUrl: "app/views/login-view.html",&#xD;&#xA;        controller: 'LoginCtrl'&#xD;&#xA;    })&#xD;&#xA;    }&#xD;&#xA;    function initSession(user, $rootScope, loginService, userService) {&#xD;&#xA;        userService.getInitParams().then(function (envJson) {&#xD;&#xA;            $rootScope.rageSessionVars = razorEnvJson;&#xD;&#xA;            userService.initRz(envJson).then(function (data) {&#xD;&#xA;                var response = data.status;&#xD;&#xA;                if (response.match(/SUCCESS/g)) {&#xD;&#xA;                    userService.openUserSession(envJson).then(function (data) {&#xD;&#xA;                        var sessionID = data.data[0];&#xD;&#xA;                        $rootScope.rageSessionVars.sessionID = sessionID;&#xD;&#xA;                        $rootScope.rageSessionVars.userID = $rootScope.userID; // *** HOW TO SUSPEND ALL CODE UNTIL userID IS ASSIGNED ??? ***&#xD;&#xA;                        console.log("sessionID = " + sessionID);&#xD;&#xA;                        $rootScope.rageSessionVars.currDashboardName = "Default";&#xD;&#xA;                    });&#xD;&#xA;                }&#xD;&#xA;            });