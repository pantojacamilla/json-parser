    var coords = [];&#xD;&#xA;    var poligonCoords = [];&#xD;&#xA;    var map = null;&#xD;&#xA;    var poligon = null;&#xD;&#xA;    function getMinX(a) {&#xD;&#xA;      var ar = [];&#xD;&#xA;      for (i = 0; i < a.length; i++) {&#xD;&#xA;        ar.push(a[i].x);&#xD;&#xA;      }&#xD;&#xA;      return Math.min.apply(Math, ar);&#xD;&#xA;    }&#xD;&#xA;    function getMaxX(a) {&#xD;&#xA;      var ar = [];&#xD;&#xA;      for (i = 0; i < a.length; i++) {&#xD;&#xA;        ar.push(a[i].x);&#xD;&#xA;      }&#xD;&#xA;      return Math.max.apply(Math, ar);&#xD;&#xA;    }&#xD;&#xA;    function getMinY(a) {&#xD;&#xA;      var ar = [];&#xD;&#xA;      for (i = 0; i < a.length; i++) {&#xD;&#xA;        ar.push(a[i].y);&#xD;&#xA;      }&#xD;&#xA;      return Math.min.apply(Math, ar);&#xD;&#xA;    }&#xD;&#xA;    function getMaxY(a) {&#xD;&#xA;      var ar = [];&#xD;&#xA;      for (i = 0; i < a.length; i++) {&#xD;&#xA;        ar.push(a[i].y);&#xD;&#xA;      }&#xD;&#xA;      return Math.max.apply(Math, ar);&#xD;&#xA;    }&#xD;&#xA;    function getCoords() {&#xD;&#xA;      jQuery('ul#coords li').each(function() {&#xD;&#xA;        var x = jQuery(this).children('input:first-child').val();&#xD;&#xA;        var y = jQuery(this).children('input:last-child').val();&#xD;&#xA;        coords[coords.length] = {&#xD;&#xA;          "x": x,&#xD;&#xA;          "y": y&#xD;&#xA;        };&#xD;&#xA;      });&#xD;&#xA;    }&#xD;&#xA;    function setPoligon() {&#xD;&#xA;      if (!poligon) {}&#xD;&#xA;      for (i = 0; i < coords.length; i++) {&#xD;&#xA;        var point = new google.maps.LatLng(coords[i].x, coords[i].y);&#xD;&#xA;        poligonCoords.push(point);&#xD;&#xA;      }&#xD;&#xA;      poligon = new google.maps.Polygon({&#xD;&#xA;        paths: poligonCoords,&#xD;&#xA;        strokeColor: '#FF0000',&#xD;&#xA;        strokeOpacity: 0.8,&#xD;&#xA;        strokeWeight: 3,&#xD;&#xA;        fillColor: '#FF0000',&#xD;&#xA;        fillOpacity: 0.35&#xD;&#xA;      });&#xD;&#xA;      poligon.setMap(map);&#xD;&#xA;    }&#xD;&#xA;    function initialize() {&#xD;&#xA;      getCoords();&#xD;&#xA;      var minX = getMinX(coords);&#xD;&#xA;      var minY = getMinY(coords);&#xD;&#xA;      var maxX = getMaxX(coords);&#xD;&#xA;      var maxY = getMaxY(coords);&#xD;&#xA;      centerX = minX + ((maxX - minX) / 2);&#xD;&#xA;      centerY = minY + ((maxY - minY) / 2);&#xD;&#xA;      if (!centerX || !centerY) {&#xD;&#xA;        centerX = 46.361416;&#xD;&#xA;        centerY = 25.802191;&#xD;&#xA;      }&#xD;&#xA;      var mapOptions = {&#xD;&#xA;        zoom: 16,&#xD;&#xA;        center: new google.maps.LatLng(centerX, centerY),&#xD;&#xA;        mapTypeId: google.maps.MapTypeId.SATELLITE,&#xD;&#xA;        scaleControl: true,&#xD;&#xA;        streetViewControl: true&#xD;&#xA;      };&#xD;&#xA;      map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);&#xD;&#xA;      setPoligon();&#xD;&#xA;      google.maps.event.addListener(map, 'dblclick', function(event) {&#xD;&#xA;        var ev = event.latLng;&#xD;&#xA;        document.getElementById("latLong").innerHTML = "" + ev.lat().toFixed(6) + ", " + ev.lng().toFixed(6) + "";&#xD;&#xA;        jQuery("ul#coords").append(jQuery("ul#coords li:first-child").clone());&#xD;&#xA;        jQuery("ul#coords li:last-child").children('input:first-child').val(ev.lat().toFixed(6));&#xD;&#xA;        jQuery("ul#coords li:last-child").children('input:last-child').val(ev.lng().toFixed(6));&#xD;&#xA;        getCoords();&#xD;&#xA;        setPoligon();&#xD;&#xA;      });&#xD;&#xA;    }&#xD;&#xA;    google.maps.event.addDomListener(window, 'load', initialize);