    //displays the popups. Displays based on the maximum number of popups that can be displayed on the current viewport width&#xD;&#xA;    function display_popups()&#xD;&#xA;    {&#xD;&#xA;        //code for popup here&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    //creates markup for a new popup. Adds the id to popups array.&#xD;&#xA;    function register_popup(id, name)&#xD;&#xA;    {&#xD;&#xA;    &#xD;&#xA;        var element = '<div class="popup-box chat-popup" id="'+ id +'">';&#xD;&#xA;        element = element + '<div class="popup-head">';&#xD;&#xA;        element = element + '<div class="popup-head-left">'+ name +'</div>';&#xD;&#xA;        element = element + '<div class="popup-head-right"><a href="javascript:close_popup(\''+ id +'\');">&#10005;</a></div>';&#xD;&#xA;        element = element + '<div style="clear: both"></div></div><div class="popup-messages"></div></div>';&#xD;&#xA;        document.getElementsByTagName("body")[0].innerHTML = document.getElementsByTagName("body")[0].innerHTML + element;    &#xD;&#xA;        calculate_popups();&#xD;&#xA;        scrollDown(id);&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    //scroll down to the last message&#xD;&#xA;    function scrollDown(id)&#xD;&#xA;    {&#xD;&#xA;        var messages = document.getElementById(id);&#xD;&#xA;        messages.scrollTop = messages.scrollHeight;&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    //calculate the total number of popups suitable and then populate the toatal_popups variable.&#xD;&#xA;    function calculate_popups()&#xD;&#xA;    {&#xD;&#xA;       //calculate popups here&#xD;&#xA;    }