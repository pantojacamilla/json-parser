    var Carousel = function(element, options) {&#xD;&#xA;      this.carousel = document.querySelector(element);&#xD;&#xA;      this.slides = Array.prototype.slice.call(this.carousel.querySelectorAll('.item'), null);&#xD;&#xA;      this.prev = this.carousel.querySelector("[data-slide='prev']");&#xD;&#xA;      this.next = this.carousel.querySelector("[data-slide='next']");&#xD;&#xA;      this.indicators = this.carousel.querySelectorAll(".carousel-indicators li");&#xD;&#xA;      this.interval = options && options.interval ? options.interval : 5000;&#xD;&#xA;      this.duration = 600; // bootstrap carousel default transition duration&#xD;&#xA;      this.paused = null;&#xD;&#xA;      this.direction = null;&#xD;&#xA;      this.index = 0;&#xD;&#xA;      this.total = this.slides.length;&#xD;&#xA;      this.init();&#xD;&#xA;    };&#xD;&#xA;    Carousel.prototype = {&#xD;&#xA;      init: function() {&#xD;&#xA;        this.cycle();&#xD;&#xA;        this.actions();&#xD;&#xA;      },&#xD;&#xA;      _slideTo: function(next, e) {&#xD;&#xA;        var self = this;&#xD;&#xA;        //determine type&#xD;&#xA;        var active = self._getActiveIndex(); // the current active&#xD;&#xA;        var direction = self.direction;&#xD;&#xA;        var type = direction === 'left' ? 'next' : 'prev';&#xD;&#xA;        if (!this.slides[next].classList.contains(type)) {&#xD;&#xA;          //e.preventDefault();			&#xD;&#xA;          //e.defaultPrevented = false;&#xD;&#xA;          this.slides[next].classList.add(type);&#xD;&#xA;          this.slides[next].offsetWidth;&#xD;&#xA;          this.slides[active].classList.add(direction);&#xD;&#xA;          this.slides[next].classList.add(direction);&#xD;&#xA;          setTimeout(function() {&#xD;&#xA;            console.log('inside timeout prevented? ' + e.defaultPrevented);&#xD;&#xA;            self.slides[next].classList.remove(type, direction);&#xD;&#xA;            self.slides[next].classList.add('active');&#xD;&#xA;            self.slides[active].classList.remove('active', direction);&#xD;&#xA;            self._curentPage(self.indicators[next]);&#xD;&#xA;            //e.defaultPrevented = false;&#xD;&#xA;          }, self.duration + 200);&#xD;&#xA;        }&#xD;&#xA;      },&#xD;&#xA;      _getActiveIndex: function() {&#xD;&#xA;        return this._getItemIndex('.item.active')&#xD;&#xA;      },&#xD;&#xA;      _getItemIndex: function(itm) {&#xD;&#xA;        return this.slides.indexOf(this.carousel.querySelector(itm))&#xD;&#xA;      },&#xD;&#xA;      _curentPage: function(p) {&#xD;&#xA;        for (var i = 0; i < this.indicators.length; ++i) {&#xD;&#xA;          var a = this.indicators[i];&#xD;&#xA;          a.className = "";&#xD;&#xA;        }&#xD;&#xA;        p.className = "active";&#xD;&#xA;      },&#xD;&#xA;      cycle: function() {&#xD;&#xA;        var self = this;&#xD;&#xA;        //deleted some shit&#xD;&#xA;      },&#xD;&#xA;      actions: function() {&#xD;&#xA;        var self = this;&#xD;&#xA;        self.next.addEventListener("click", function(e) {&#xD;&#xA;          e.preventDefault();&#xD;&#xA;          self.index++;&#xD;&#xA;          self.direction = 'left'; //set direction first&#xD;&#xA;          if (self.index == self.total - 1) {&#xD;&#xA;            self.index = self.total - 1;&#xD;&#xA;          } else if (self.index == self.total) {&#xD;&#xA;            self.index = 0&#xD;&#xA;          }&#xD;&#xA;          self._slideTo(self.index, e);&#xD;&#xA;        }, false);&#xD;&#xA;        self.prev.addEventListener("click", function(e) {&#xD;&#xA;          e.preventDefault();&#xD;&#xA;          self.index--;&#xD;&#xA;          self.direction = 'right'; //set direction first&#xD;&#xA;          if (self.index == 0) {&#xD;&#xA;            self.index = 0;&#xD;&#xA;          } else if (self.index < 0) {&#xD;&#xA;            self.index = self.total - 1&#xD;&#xA;          }&#xD;&#xA;          self._slideTo(self.index, e);&#xD;&#xA;        }, false);&#xD;&#xA;        for (var i = 0; i < self.indicators.length; ++i) {&#xD;&#xA;          var a = self.indicators[i];&#xD;&#xA;          a.addEventListener("click", function(e) {&#xD;&#xA;            e.preventDefault();&#xD;&#xA;            var n = parseInt(this.getAttribute("data-slide-to"), 10);&#xD;&#xA;            self.index = n;&#xD;&#xA;            if (self.index == 0) {&#xD;&#xA;              self.index = 0;&#xD;&#xA;            }&#xD;&#xA;            if (self.index > 0) {}&#xD;&#xA;            if (self.index == self.total - 1) {&#xD;&#xA;              self.index = self.total - 1;&#xD;&#xA;            } else {}&#xD;&#xA;            //determine direction first&#xD;&#xA;            var active = self._getActiveIndex(); // the current active&#xD;&#xA;            if ((active < self.index) || (active === self.total - 1 && self.index === 0)) {&#xD;&#xA;              self.direction = 'left'; // next&#xD;&#xA;            } else if ((active > self.index) || (active === 0 && self.index === self.total - 1)) {&#xD;&#xA;              self.direction = 'right'; // prev&#xD;&#xA;            }&#xD;&#xA;            self._slideTo(self.index, e);&#xD;&#xA;          }, false);&#xD;&#xA;        }&#xD;&#xA;        window.addEventListener('keydown', function(e) {&#xD;&#xA;          if (/input|textarea/i.test(e.target.tagName)) return;&#xD;&#xA;          switch (e.which) {&#xD;&#xA;            case 39:&#xD;&#xA;              self.index++;&#xD;&#xA;              self.direction = 'left';&#xD;&#xA;              if (self.index == self.total - 1) {&#xD;&#xA;                self.index = self.total - 1;&#xD;&#xA;              } else&#xD;&#xA;              if (self.index == self.total) {&#xD;&#xA;                self.index = 0&#xD;&#xA;              }&#xD;&#xA;              break;&#xD;&#xA;            case 37:&#xD;&#xA;              self.index--;&#xD;&#xA;              self.direction = 'right';&#xD;&#xA;              if (self.index == 0) {&#xD;&#xA;                self.index = 0;&#xD;&#xA;              } else&#xD;&#xA;              if (self.index < 0) {&#xD;&#xA;                self.index = self.total - 1&#xD;&#xA;              }&#xD;&#xA;              break;&#xD;&#xA;            default:&#xD;&#xA;              return;&#xD;&#xA;          }&#xD;&#xA;          // e.preventDefault();&#xD;&#xA;          self._slideTo(self.index, e);&#xD;&#xA;        }, false)&#xD;&#xA;      }&#xD;&#xA;    }&#xD;&#xA;    var slider = new Carousel("#myCarousel1");