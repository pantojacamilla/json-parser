        .directive('ionSearch', function() {&#xD;&#xA;            return {&#xD;&#xA;                restrict: 'E',&#xD;&#xA;                replace: true,&#xD;&#xA;                scope: {&#xD;&#xA;                    getData: '&source',&#xD;&#xA;                    model: '=?',&#xD;&#xA;                    search: '=?filter'&#xD;&#xA;                },&#xD;&#xA;                link: function(scope, element, attrs) {&#xD;&#xA;                    attrs.minLength = attrs.minLength || 0;&#xD;&#xA;                    scope.placeholder = attrs.placeholder || '';&#xD;&#xA;                    scope.search = {value: ''};&#xD;&#xA;                    if (attrs.class)&#xD;&#xA;                        element.addClass(attrs.class);&#xD;&#xA;                    if (attrs.source) {&#xD;&#xA;                        scope.$watch('search.value', function (newValue, oldValue) {&#xD;&#xA;                            if (newValue.length > attrs.minLength) {&#xD;&#xA;                                scope.getData({str: newValue}).then(function (results) {&#xD;&#xA;                                    scope.model = results;&#xD;&#xA;                                });&#xD;&#xA;                            } else {&#xD;&#xA;                                scope.model = [];&#xD;&#xA;                            }&#xD;&#xA;                        });&#xD;&#xA;                    }&#xD;&#xA;                    scope.clearSearch = function() {&#xD;&#xA;                        scope.search.value = '';&#xD;&#xA;                    };&#xD;&#xA;                },&#xD;&#xA;                template: '<div class="item-input-wrapper">' +&#xD;&#xA;                '<i class="icon ion-android-search"></i>' +&#xD;&#xA;                '<input type="search" placeholder="{{placeholder}}"  ng-model="search.value">' +&#xD;&#xA;                '<i ng-if="search.value.length > 0" ng-click="clearSearch()" class="icon ion-close"></i>' +&#xD;&#xA;                '</div>'&#xD;&#xA;            };&#xD;&#xA;        })