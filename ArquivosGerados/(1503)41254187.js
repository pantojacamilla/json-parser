    jQuery(document).ready(function($) {&#xD;&#xA;        var $form_modal = $('.cd-user-modal'),&#xD;&#xA;            $form_login = $form_modal.find('#cd-login'),&#xD;&#xA;            $form_signup = $form_modal.find('#cd-signup'),&#xD;&#xA;            $form_forgot_password = $form_modal.find('#cd-reset-password'),&#xD;&#xA;            $form_modal_tab = $('.cd-switcher'),&#xD;&#xA;            $tab_login = $form_modal_tab.children('li').eq(0).children('a'),&#xD;&#xA;            $tab_signup = $form_modal_tab.children('li').eq(1).children('a'),&#xD;&#xA;            $forgot_password_link = $form_login.find('.cd-form-bottom-message a'),&#xD;&#xA;            $back_to_login_link = $form_forgot_password.find('.cd-form-bottom-message a'),&#xD;&#xA;            $main_nav = $('.hmodal');&#xD;&#xA;        //open modal&#xD;&#xA;        $main_nav.on('click', function(event) {&#xD;&#xA;            if ($(event.target).is($main_nav)) {&#xD;&#xA;                // on mobile open the submenu&#xD;&#xA;                $(this).children('ul').toggleClass('is-visible');&#xD;&#xA;            } else {&#xD;&#xA;                // on mobile close submenu&#xD;&#xA;                $main_nav.children('ul').removeClass('is-visible');&#xD;&#xA;                //show modal layer&#xD;&#xA;                $form_modal.addClass('is-visible');&#xD;&#xA;                //show the selected form&#xD;&#xA;                ($(event.target).is('.cd-signup')) ? signup_selected(): login_selected();&#xD;&#xA;            }&#xD;&#xA;        });&#xD;&#xA;        //close modal&#xD;&#xA;        $('.cd-user-modal').on('click', function(event) {&#xD;&#xA;            if ($(event.target).is($form_modal) || $(event.target).is('.cd-close-form')) {&#xD;&#xA;                $form_modal.removeClass('is-visible');&#xD;&#xA;            }&#xD;&#xA;        });&#xD;&#xA;        //close modal when clicking the esc keyboard button&#xD;&#xA;        $(document).keyup(function(event) {&#xD;&#xA;            if (event.which == '27') {&#xD;&#xA;                $form_modal.removeClass('is-visible');&#xD;&#xA;            }&#xD;&#xA;        });&#xD;&#xA;        //switch from a tab to another&#xD;&#xA;        $form_modal_tab.on('click', function(event) {&#xD;&#xA;            event.preventDefault();&#xD;&#xA;            ($(event.target).is($tab_login)) ? login_selected(): signup_selected();&#xD;&#xA;        });&#xD;&#xA;        //hide or show password&#xD;&#xA;        $('.hide-password').on('click', function() {&#xD;&#xA;            var $this = $(this),&#xD;&#xA;                $password_field = $this.prev('input');&#xD;&#xA;            ('password' == $password_field.attr('type')) ? $password_field.attr('type', 'text'): $password_field.attr('type', 'password');&#xD;&#xA;            ('Hide' == $this.text()) ? $this.text('Show'): $this.text('Hide');&#xD;&#xA;            //focus and move cursor to the end of input field&#xD;&#xA;            $password_field.putCursorAtEnd();&#xD;&#xA;        });&#xD;&#xA;        //show forgot-password form &#xD;&#xA;        $forgot_password_link.on('click', function(event) {&#xD;&#xA;            event.preventDefault();&#xD;&#xA;            forgot_password_selected();&#xD;&#xA;        });&#xD;&#xA;        //back to login from the forgot-password form&#xD;&#xA;        $back_to_login_link.on('click', function(event) {&#xD;&#xA;            event.preventDefault();&#xD;&#xA;            login_selected();&#xD;&#xA;        });&#xD;&#xA;        function login_selected() {&#xD;&#xA;            $form_login.addClass('is-selected');&#xD;&#xA;            $form_signup.removeClass('is-selected');&#xD;&#xA;            $form_forgot_password.removeClass('is-selected');&#xD;&#xA;            $tab_login.addClass('selected');&#xD;&#xA;            $tab_signup.removeClass('selected');&#xD;&#xA;        }&#xD;&#xA;        function signup_selected() {&#xD;&#xA;            $form_login.removeClass('is-selected');&#xD;&#xA;            $form_signup.addClass('is-selected');&#xD;&#xA;            $form_forgot_password.removeClass('is-selected');&#xD;&#xA;            $tab_login.removeClass('selected');&#xD;&#xA;            $tab_signup.addClass('selected');&#xD;&#xA;        }&#xD;&#xA;        function forgot_password_selected() {&#xD;&#xA;            $form_login.removeClass('is-selected');&#xD;&#xA;            $form_signup.removeClass('is-selected');&#xD;&#xA;            $form_forgot_password.addClass('is-selected');&#xD;&#xA;        }&#xD;&#xA;        //REMOVE THIS - it's just to show error messages &#xD;&#xA;        $form_login.find('input[type="submit"]').on('click', function(event) {&#xD;&#xA;            event.preventDefault();&#xD;&#xA;            $form_login.find('input[type="email"]').toggleClass('has-error').next('span').toggleClass('is-visible');&#xD;&#xA;        });&#xD;&#xA;        $form_signup.find('input[type="submit"]').on('click', function(event) {&#xD;&#xA;            event.preventDefault();&#xD;&#xA;            $form_signup.find('input[type="email"]').toggleClass('has-error').next('span').toggleClass('is-visible');&#xD;&#xA;        });&#xD;&#xA;        //IE9 placeholder fallback&#xD;&#xA;        if (!Modernizr.input.placeholder) {&#xD;&#xA;            $('[placeholder]').focus(function() {&#xD;&#xA;                var input = $(this);&#xD;&#xA;                if (input.val() == input.attr('placeholder')) {&#xD;&#xA;                    input.val('');&#xD;&#xA;                }&#xD;&#xA;            }).blur(function() {&#xD;&#xA;                var input = $(this);&#xD;&#xA;                if (input.val() == '' || input.val() == input.attr('placeholder')) {&#xD;&#xA;                    input.val(input.attr('placeholder'));&#xD;&#xA;                }&#xD;&#xA;            }).blur();&#xD;&#xA;            $('[placeholder]').parents('form').submit(function() {&#xD;&#xA;                $(this).find('[placeholder]').each(function() {&#xD;&#xA;                    var input = $(this);&#xD;&#xA;                    if (input.val() == input.attr('placeholder')) {&#xD;&#xA;                        input.val('');&#xD;&#xA;                    }&#xD;&#xA;                })&#xD;&#xA;            });&#xD;&#xA;        }&#xD;&#xA;    });&#xD;&#xA;    jQuery.fn.putCursorAtEnd = function() {&#xD;&#xA;        return this.each(function() {&#xD;&#xA;            // If this function exists...&#xD;&#xA;            if (this.setSelectionRange) {&#xD;&#xA;                // ... then use it (Doesn't work in IE)&#xD;&#xA;                // Double the length because Opera is inconsistent about whether a carriage return is one character or two. Sigh.&#xD;&#xA;                var len = $(this).val().length * 2;&#xD;&#xA;                this.setSelectionRange(len, len);&#xD;&#xA;            } else {&#xD;&#xA;                // ... otherwise replace the contents with itself&#xD;&#xA;                // (Doesn't work in Google Chrome)&#xD;&#xA;                $(this).val($(this).val());&#xD;&#xA;            }&#xD;&#xA;        });&#xD;&#xA;    };