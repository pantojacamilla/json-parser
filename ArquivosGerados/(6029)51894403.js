    var $elm = $('.slider'),&#xD;&#xA;      $slidesContainer = $elm.find('.slider-container'),&#xD;&#xA;      slides = $slidesContainer.children('a'),&#xD;&#xA;      slidesCount = slides.length,&#xD;&#xA;      slideHeight = $(slides[0]).find('img').outerHeight(false),&#xD;&#xA;      animationspeed = 1000,&#xD;&#xA;      animationInterval = 7000;&#xD;&#xA;    // Set (initial) z-index for each slide&#xD;&#xA;    var setZindex = function() {&#xD;&#xA;      for (var i = 0; i < slidesCount; i++) {&#xD;&#xA;        $(slides[i]).css('z-index', slidesCount - i);&#xD;&#xA;      }&#xD;&#xA;    };&#xD;&#xA;    setZindex();&#xD;&#xA;    var displayImageBeforeClick = null;&#xD;&#xA;    var setActiveSlide = function() {&#xD;&#xA;      $(slides).removeClass('active');&#xD;&#xA;      $(slides[activeIdx]).addClass('active');&#xD;&#xA;    };&#xD;&#xA;    var advanceFunc = function() {&#xD;&#xA;      if ($('.slider-nav li.activeSlide').index() + 1 != $('.slider-nav li').length) {&#xD;&#xA;        $('.slider-nav li.activeSlide').next().find('a').trigger('click');&#xD;&#xA;      } else {&#xD;&#xA;        $('.slider-nav li:first').find('a').trigger('click');&#xD;&#xA;      }&#xD;&#xA;    }&#xD;&#xA;    var autoAdvance = setInterval(advanceFunc, animationInterval);&#xD;&#xA;    //Set slide height&#xD;&#xA;    $(slides).css('height', slideHeight);&#xD;&#xA;    // Append bullets&#xD;&#xA;    if (slidesCount > 1) {&#xD;&#xA;      /* Prepend the slider navigation to the slider&#xD;&#xA;         if there are at least 2 slides */&#xD;&#xA;      $elm.prepend('<ul class="slider-nav"></ul>');&#xD;&#xA;      &#xD;&#xA;      // make a bullet for each slide&#xD;&#xA;      for (var i = 0; i < slidesCount; i++) {&#xD;&#xA;        var bullets = '<li><a href="#">' + i + '</a></li>';&#xD;&#xA;        if (i == 0) {&#xD;&#xA;          // active bullet&#xD;&#xA;          var bullets = '<li class="activeSlide"><a href="#">' + i + '</a></li>';&#xD;&#xA;          // active slide&#xD;&#xA;          $(slides[0]).addClass('active');&#xD;&#xA;        }&#xD;&#xA;        $('.slider-nav').append(bullets);&#xD;&#xA;      }&#xD;&#xA;    };&#xD;&#xA;    var slideUpDown = function() {&#xD;&#xA;      // set top property for all the slides&#xD;&#xA;      $(slides).not(displayImageBeforeClick).css('top', slideHeight);&#xD;&#xA;      // then animate to the next slide&#xD;&#xA;      $(slides[activeIdx]).animate({&#xD;&#xA;        'top': 0&#xD;&#xA;      }, animationspeed);&#xD;&#xA;      $(displayImageBeforeClick).animate({&#xD;&#xA;        'top': "-100%"&#xD;&#xA;      }, animationspeed);&#xD;&#xA;    };&#xD;&#xA;    $('.slider-nav a').on('click', function(event) {&#xD;&#xA;      displayImageBeforeClick = $(".slider-container .active");&#xD;&#xA;      activeIdx = $(this).text();&#xD;&#xA;      if ($(slides[activeIdx]).hasClass("active")) {&#xD;&#xA;        return false;&#xD;&#xA;      }&#xD;&#xA;      $('.slider-nav a').closest('li').removeClass('activeSlide');&#xD;&#xA;      $(this).closest('li').addClass('activeSlide');&#xD;&#xA;      // Reset autoadvance if user clicks bullet&#xD;&#xA;      if (event.originalEvent !== undefined) {&#xD;&#xA;        clearInterval(autoAdvance);&#xD;&#xA;        autoAdvance = setInterval(advanceFunc, animationInterval);&#xD;&#xA;      }&#xD;&#xA;      setActiveSlide();&#xD;&#xA;      slideUpDown();&#xD;&#xA;    });