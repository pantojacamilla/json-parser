    Array.prototype.pushIfExists = function(item) {&#xD;&#xA;      if (item) {&#xD;&#xA;        this.push(item);&#xD;&#xA;      }&#xD;&#xA;    }&#xD;&#xA;    function random(min, max) {&#xD;&#xA;      var min = min || 0;&#xD;&#xA;      var max = max || 100;&#xD;&#xA;      var num = Math.floor(Math.random() * max);&#xD;&#xA;      while (num < min) {&#xD;&#xA;        num = Math.floor(Math.random() * max);&#xD;&#xA;      }&#xD;&#xA;      return num;&#xD;&#xA;    }&#xD;&#xA;    function avarage(array) {&#xD;&#xA;      var sum = 0;&#xD;&#xA;      var avarage = 0;&#xD;&#xA;      for (var i = 0; i < array.length; i++) {&#xD;&#xA;        sum += array[i];&#xD;&#xA;      }&#xD;&#xA;      avarage = sum / array.length;&#xD;&#xA;      return avarage;&#xD;&#xA;    }&#xD;&#xA;    var beats = [];&#xD;&#xA;    var delay = 500;&#xD;&#xA;    var delayIncrement = 200;&#xD;&#xA;    var threshold = 50;&#xD;&#xA;    var thresholdLimit = 100;&#xD;&#xA;    var beatAvarageRange = 5;&#xD;&#xA;    var flashDuration = 100;&#xD;&#xA;    for (var i = 0; i < 100; i++) {&#xD;&#xA;      beats.push(random(0, thresholdLimit));&#xD;&#xA;    }&#xD;&#xA;    for (var i = 0; i < beats.length; i++) {&#xD;&#xA;      (function(i) {&#xD;&#xA;        setTimeout(function() {&#xD;&#xA;          var recentBeats = [];&#xD;&#xA;          for (var j = 1; j < beatAvarageRange + 1; j++) {&#xD;&#xA;            recentBeats.pushIfExists(beats[i - j]);&#xD;&#xA;          }&#xD;&#xA;          threshold = avarage(recentBeats);&#xD;&#xA;          if (beats[i] > threshold) {&#xD;&#xA;            document.body.style.backgroundColor = "white";&#xD;&#xA;            setTimeout(function() {&#xD;&#xA;              document.body.style.backgroundColor = "black";&#xD;&#xA;            }, flashDuration);&#xD;&#xA;          }&#xD;&#xA;        }, delay);&#xD;&#xA;        delay += delayIncrement;&#xD;&#xA;      })(i);&#xD;&#xA;    }