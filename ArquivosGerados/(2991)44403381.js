    var btn = document.querySelector('button');&#xD;&#xA;    var svg = document.querySelector('svg');&#xD;&#xA;    var canvas = document.querySelector('canvas');&#xD;&#xA;    function triggerDownload (imgURI) {&#xD;&#xA;      var evt = new MouseEvent('click', {&#xD;&#xA;        view: window,&#xD;&#xA;        bubbles: false,&#xD;&#xA;        cancelable: true&#xD;&#xA;      });&#xD;&#xA;      var a = document.createElement('a');&#xD;&#xA;      a.setAttribute('download', 'MY_COOL_IMAGE.png');&#xD;&#xA;      a.setAttribute('href', imgURI);&#xD;&#xA;      a.setAttribute('target', '_blank');&#xD;&#xA;      a.dispatchEvent(evt);&#xD;&#xA;    }&#xD;&#xA;    btn.addEventListener('click', function () {&#xD;&#xA;      var canvas = document.getElementById('canvas');&#xD;&#xA;      var ctx = canvas.getContext('2d');&#xD;&#xA;      var data = (new XMLSerializer()).serializeToString(svg);&#xD;&#xA;      var DOMURL = window.URL || window.webkitURL || window;&#xD;&#xA;      var img = new Image();&#xD;&#xA;      img.crossOrigin = 'anonymous'&#xD;&#xA;      var svgBlob = new Blob([data], {type: 'image/svg+xml;charset=utf-8'});&#xD;&#xA;      var url = DOMURL.createObjectURL(svgBlob);&#xD;&#xA;      img.onload = function () {&#xD;&#xA;        ctx.drawImage(img, 0, 0);&#xD;&#xA;        DOMURL.revokeObjectURL(url);&#xD;&#xA;        var imgURI = canvas&#xD;&#xA;            .toDataURL('image/png')&#xD;&#xA;            .replace('image/png', 'image/octet-stream');&#xD;&#xA;        triggerDownload(imgURI);&#xD;&#xA;      };&#xD;&#xA;      img.src = url;&#xD;&#xA;    });