    var foo = function() {&#xD;&#xA;      function bar() {&#xD;&#xA;        alert('bar');&#xD;&#xA;      }&#xD;&#xA;    };&#xD;&#xA;    $.fn.mainfoo = function() {&#xD;&#xA;      alert('mainfoo');&#xD;&#xA;      return this.each(function(key, value) {&#xD;&#xA;        if ($(this).data('mainfoo')) return $(this).data('mainfoo');&#xD;&#xA;        var mainfoo = new foo();&#xD;&#xA;        $(this).data('mainfoo', mainfoo);&#xD;&#xA;      });&#xD;&#xA;    };&#xD;&#xA;    var myfoo = $('body').mainfoo();&#xD;&#xA;    try {&#xD;&#xA;      myfoo.data('mainfoo').bar();&#xD;&#xA;    } catch (e) {&#xD;&#xA;      alert(e);&#xD;&#xA;    }