    $(function() {&#xD;&#xA;      var x1 = null,&#xD;&#xA;        y1 = null;&#xD;&#xA;      var offsetX = 0,&#xD;&#xA;        offsetY = 0;&#xD;&#xA;      function createLine(x1, y1, x2, y2) {&#xD;&#xA;        var length = Math.sqrt(((x1 - x2) * (x1 - x2)) + ((y1 - y2) * (y1 - y2)));&#xD;&#xA;        var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;&#xD;&#xA;        var transform = 'rotate(' + angle + 'deg)';&#xD;&#xA;        offsetX = (x1 > x2) ? x2 : x1;&#xD;&#xA;        offsetY = (y1 > y2) ? y2 : y1;&#xD;&#xA;        var line = $('<div>')&#xD;&#xA;          .appendTo('#demo')&#xD;&#xA;          .addClass('line')&#xD;&#xA;          .css({&#xD;&#xA;            'position': 'absolute',&#xD;&#xA;            '-webkit-transform': transform,&#xD;&#xA;            '-moz-transform': transform,&#xD;&#xA;            'transform': transform&#xD;&#xA;          })&#xD;&#xA;          .width(length)&#xD;&#xA;          .offset({&#xD;&#xA;            left: offsetX,&#xD;&#xA;            top: offsetY&#xD;&#xA;          });&#xD;&#xA;        return line;&#xD;&#xA;      }&#xD;&#xA;      $('#demo').click(function(event) {&#xD;&#xA;          var x = event.pageX,&#xD;&#xA;            y = event.pageY;&#xD;&#xA;          if (x1 == null) {&#xD;&#xA;            x1 = x;&#xD;&#xA;            y1 = y;&#xD;&#xA;          } else {&#xD;&#xA;            createLine(x1, y1, x, y);&#xD;&#xA;            x1 = y1 = null;&#xD;&#xA;          }&#xD;&#xA;        })&#xD;&#xA;        .delegate('.line', 'click', function(event) {&#xD;&#xA;          event.preventDefault();&#xD;&#xA;          $(this).toggleClass('active');&#xD;&#xA;          x1 = y1 = null;&#xD;&#xA;          return false;&#xD;&#xA;        });&#xD;&#xA;    });