    window.onload = function(){&#xD;&#xA;        var i = 0, max = 20000, status = document.body;&#xD;&#xA;        foo();&#xD;&#xA;        function foo(){&#xD;&#xA;    	status.innerHTML = i + '/' + max; // Just for testing - not in my code&#xD;&#xA;    	if(i < max){&#xD;&#xA;    	    i++;&#xD;&#xA;    	    if(i%1000 == 0) setTimeout(foo,0);  // Using timeout every 1000 items&#xD;&#xA;    	    else foo();                         // Calling immediatly otherwise&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;    };