        app.controller("premiumAdvertsController",function($scope,ergastAPIservice,$routeParams,$location,$rootScope)&#xD;&#xA;    {&#xD;&#xA;      function uploadImage(input,success) {&#xD;&#xA;        console.log("yeh input hai ",input);&#xD;&#xA;        if ( input.files && input.files[0] ) {&#xD;&#xA;            var FR= new FileReader();&#xD;&#xA;            FR.onload = function(e) {&#xD;&#xA;                 success(e.target.result);&#xD;&#xA;            };       &#xD;&#xA;            FR.readAsDataURL( input.files[0] );&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;          $scope.registerPremiumAdvertisement=function()&#xD;&#xA;            {&#xD;&#xA;              console.log("shakil k sath check!eeersss!");&#xD;&#xA;              console.log("hello");&#xD;&#xA;              var count=1;&#xD;&#xA;              var owner=$rootScope.currentUser.email;&#xD;&#xA;            var companyName=$scope.companyName;&#xD;&#xA;            var companySlogan=$scope.companySlogan;&#xD;&#xA;            var companyAddress=$scope.companyAddress;&#xD;&#xA;            var companyFacebookLink=$scope.companyFacebookLink;&#xD;&#xA;            var companyTwitterLink=$scope.companyTwitterLink;&#xD;&#xA;            var companyContactNumber=$scope.companyContactNumber;&#xD;&#xA;           var companySiteLink=$scope.companySiteLink;&#xD;&#xA;           var sliderText=$scope.imageText;&#xD;&#xA;           var category="premiumBrand";       &#xD;&#xA;            var featuredOffer1Title=$scope.featuredOffer1Title;&#xD;&#xA;            var featuredoffer1Description=$scope.featuredoffer1Description;&#xD;&#xA;            var featuredoffer1Expiry=$scope.featuredoffer1Expiry;&#xD;&#xA;    &#xD;&#xA;            var featuredOffer2Title=$scope.featuredOffer2Title;&#xD;&#xA;            var featuredoffer2Description=$scope.featuredoffer2Description;&#xD;&#xA;            var featuredoffer2Expiry=$scope.featuredoffer2Expiry;&#xD;&#xA;    &#xD;&#xA;            var featuredOffer3Title=$scope.featuredOffer3Title;&#xD;&#xA;            var featuredoffer3Description=$scope.featuredoffer3Description;&#xD;&#xA;            var featuredoffer3Expiry=$scope.featuredoffer3Expiry;&#xD;&#xA;    &#xD;&#xA;            var featuredOffer4Title=$scope.featuredOffer4Title;&#xD;&#xA;            var featuredoffer4Description=$scope.featuredoffer4Description;&#xD;&#xA;            var featuredoffer4Expiry=$scope.featuredoffer4Expiry;&#xD;&#xA;    console.log("hello");&#xD;&#xA;            var detailedOffer1Description=$scope.detailedOffer1Description;&#xD;&#xA;            var detailedOffer2Description=$scope.detailedOffer2Description;&#xD;&#xA;            var detailedOffer3Description=$scope.detailedOffer3Description;&#xD;&#xA;            var detailedOffer4Description=$scope.detailedOffer4Description;&#xD;&#xA;            console.log("hello");&#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;            var storeName=$scope.storeName;&#xD;&#xA;            var file1=document.getElementsByClassName("companyLogo")[0];&#xD;&#xA;            var file2=document.getElementsByClassName("picture2")[0];&#xD;&#xA;            var file3=document.getElementsByClassName("picture3")[0];&#xD;&#xA;            var file4=document.getElementsByClassName("picture4")[0];&#xD;&#xA;            var file5=document.getElementsByClassName("picture5")[0];&#xD;&#xA;            console.log("hello");&#xD;&#xA;            //var file6=document.getElementsByClassName("picture6")[0];&#xD;&#xA;            //var file7=document.getElementsByClassName("picture7")[0];&#xD;&#xA;            var f1,f2,f3,f4,f5;&#xD;&#xA;            var out=[f1,f2,f3,f4,f5];&#xD;&#xA;            var arr=[file1,file2,file3,file4,file5]&#xD;&#xA;    &#xD;&#xA;            for (var i=0;i<arr.length;i++ )&#xD;&#xA;            {&#xD;&#xA;    &#xD;&#xA;              console.log(i);&#xD;&#xA;              &#xD;&#xA;              if( arr[i].files[0])  &#xD;&#xA;              {&#xD;&#xA;                (function(ith){&#xD;&#xA;                  uploadImage(arr[ith],function(result){&#xD;&#xA;                  out[ith]=result;&#xD;&#xA;                  count++;&#xD;&#xA;                  console.log(count,"count");&#xD;&#xA;                  if(count==6)&#xD;&#xA;                  {&#xD;&#xA;                    console.log("count hogya six!");&#xD;&#xA;                    var featuredOffer1={offerTitle:featuredOffer1Title,offerDescription:featuredoffer1Description,offerExpiry:featuredoffer1Expiry};&#xD;&#xA;                    var featuredOffer2={offerTitle:featuredOffer2Title,offerDescription:featuredoffer2Description,offerExpiry:featuredoffer2Expiry};&#xD;&#xA;                    var featuredOffer3={offerTitle:featuredOffer3Title,offerDescription:featuredoffer3Description,offerExpiry:featuredoffer3Expiry};&#xD;&#xA;                    var featuredOffer4={offerTitle:featuredOffer4Title,offerDescription:featuredoffer4Description,offerExpiry:featuredoffer4Expiry};&#xD;&#xA;                    var featuredOffers=[];&#xD;&#xA;                    featuredOffers.push(featuredOffer1);&#xD;&#xA;                    featuredOffers.push(featuredOffer2);&#xD;&#xA;                    featuredOffers.push(featuredOffer3);&#xD;&#xA;                    featuredOffers.push(featuredOffer4);&#xD;&#xA;                    var pages=[];&#xD;&#xA;                    var pageCount=0;&#xD;&#xA;            var offerDescriptions=[];&#xD;&#xA;            var detailerOffer1={offerDescription:detailedOffer1Description,offerPicture:out[1]}&#xD;&#xA;            var detailerOffer2={offerDescription:detailedOffer2Description,offerPicture:out[2]}&#xD;&#xA;            var detailerOffer3={offerDescription:detailedOffer3Description,offerPicture:out[3]}&#xD;&#xA;            var detailerOffer4={offerDescription:detailedOffer4Description,offerPicture:out[4]}&#xD;&#xA;            offerDescriptions.push(detailerOffer1);&#xD;&#xA;            offerDescriptions.push(detailerOffer2);&#xD;&#xA;            offerDescriptions.push(detailerOffer3);&#xD;&#xA;            offerDescriptions.push(detailerOffer4);&#xD;&#xA;    &#xD;&#xA;            var f={pageCount:pageCount,owner:owner,category:category,pages:pages,companyLogo:out[0],imageText:sliderText,companyName:companyName,companySlogan:companySlogan,companyAddress:companyAddress,companyContactNumber:companyContactNumber,companyFacebookLink:companyFacebookLink,companyTwitterLink:companyTwitterLink,companySiteLink:companySiteLink,featuredOffers:featuredOffers,offerDescriptions:offerDescriptions,premiumAdd:true};&#xD;&#xA;            console.log("f bangya!");&#xD;&#xA;            ergastAPIservice.saveHotBrand(f).then(function(res){&#xD;&#xA;                        console.log("server pe chala gya data!");&#xD;&#xA;                        if(res.success)&#xD;&#xA;                        {&#xD;&#xA;                          console.log("successfully got success from server !!");&#xD;&#xA;                         $(".modalKaText").text("successfully uploaded");&#xD;&#xA;                  $("#myModal").modal();&#xD;&#xA;                  $location.path("/home");&#xD;&#xA;                     }&#xD;&#xA;                        else if(res.error)&#xD;&#xA;                        {&#xD;&#xA;                          console.log("got error from server!!!");&#xD;&#xA;                          $(".modalKaText").text("There was some error");&#xD;&#xA;                  $("#myModal").modal();&#xD;&#xA;                  $location.reload()&#xD;&#xA;                        }&#xD;&#xA;                        else {&#xD;&#xA;                          console.log("got nothing from server");&#xD;&#xA;                        }&#xD;&#xA;                    },function(res){&#xD;&#xA;                      res=JSON.stringify(res);&#xD;&#xA;                      console.log("error found!!",res);&#xD;&#xA;                    })&#xD;&#xA;    &#xD;&#xA;                  }&#xD;&#xA;                })&#xD;&#xA;                })(i);&#xD;&#xA;                &#xD;&#xA;              }&#xD;&#xA;              else &#xD;&#xA;              {&#xD;&#xA;                count++;&#xD;&#xA;                console.log(count,"count");&#xD;&#xA;              }&#xD;&#xA;    &#xD;&#xA;            }&#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;          }&#xD;&#xA;          &#xD;&#xA;    });