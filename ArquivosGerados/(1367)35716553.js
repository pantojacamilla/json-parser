    var img01URL = 'https://www.google.com/images/srpr/logo4w.png';&#xD;&#xA;    var img02URL = 'http://fabricjs.com/lib/pug.jpg';&#xD;&#xA;    var canvas = new fabric.Canvas('c');&#xD;&#xA;    document.getElementById('download').addEventListener('click', function() {&#xD;&#xA;      canvas.renderAll();&#xD;&#xA;      this.href = canvas.toDataURL({&#xD;&#xA;        format: 'png',&#xD;&#xA;        multiplier: 2        &#xD;&#xA;      });&#xD;&#xA;      this.download = "test.png";&#xD;&#xA;    }, false);&#xD;&#xA;    var clipRect1 = new fabric.Rect({&#xD;&#xA;        originX: 'left',&#xD;&#xA;        originY: 'top',&#xD;&#xA;        angle: 90,&#xD;&#xA;        left: 195,&#xD;&#xA;        top: 0,&#xD;&#xA;        width: 200,&#xD;&#xA;        height: 200,&#xD;&#xA;        fill: '#DDD', /* use transparent for no fill */&#xD;&#xA;        strokeWidth: 0,&#xD;&#xA;        lockMovementX: true,&#xD;&#xA;        lockMovementY: true&#xD;&#xA;    });&#xD;&#xA;    var clipRect2 = new fabric.Rect({&#xD;&#xA;        originX: 'left',&#xD;&#xA;        originY: 'top',&#xD;&#xA;        angle: 90,&#xD;&#xA;        left: 195,&#xD;&#xA;        top: 200,&#xD;&#xA;        width: 200,&#xD;&#xA;        height: 200,&#xD;&#xA;        fill: '#DDD', /* use transparent for no fill */&#xD;&#xA;        strokeWidth: 0,&#xD;&#xA;        lockMovementX: true,&#xD;&#xA;        lockMovementY: true&#xD;&#xA;    });&#xD;&#xA;    clipRect1.set({&#xD;&#xA;        clipFor: 'pug',&#xD;&#xA;        angle: 5&#xD;&#xA;    });&#xD;&#xA;    clipRect2.set({&#xD;&#xA;        clipFor: 'pus',&#xD;&#xA;        angle: 5&#xD;&#xA;    });&#xD;&#xA;    canvas.add(clipRect1);&#xD;&#xA;    canvas.add(clipRect2);&#xD;&#xA;    function findByClipName(name) {&#xD;&#xA;        return _(canvas.getObjects()).where({&#xD;&#xA;                clipFor: name&#xD;&#xA;            }).first()&#xD;&#xA;    }&#xD;&#xA;    function degToRad(degrees) {&#xD;&#xA;        return degrees * (Math.PI / 180);&#xD;&#xA;    }&#xD;&#xA;    var clipByName = function (ctx) {&#xD;&#xA;        this.setCoords();&#xD;&#xA;        var clipRect = findByClipName(this.clipName);&#xD;&#xA;        var scaleXTo1 = (1 / this.scaleX);&#xD;&#xA;        var scaleYTo1 = (1 / this.scaleY);&#xD;&#xA;        ctx.save();&#xD;&#xA;        &#xD;&#xA;        var ctxLeft = -( this.width / 2 ) + clipRect.strokeWidth;&#xD;&#xA;    		var ctxTop = -( this.height / 2 ) + clipRect.strokeWidth;&#xD;&#xA;    		var ctxWidth = clipRect.width - clipRect.strokeWidth;&#xD;&#xA;    		var ctxHeight = clipRect.height - clipRect.strokeWidth;&#xD;&#xA;    	//ctx.setTransform(1, 0, 0, 1, 0, 0); &#xD;&#xA;        ctx.translate( ctxLeft, ctxTop );&#xD;&#xA;        &#xD;&#xA;        //ctx.rotate(degToRad(this.angle * -1));&#xD;&#xA;        ctx.strokeStyle = "red";&#xD;&#xA;        ctx.scale(scaleXTo1, scaleYTo1);&#xD;&#xA;        ctx.beginPath();&#xD;&#xA;        ctx.rect(&#xD;&#xA;            clipRect.left - this.oCoords.tl.x,&#xD;&#xA;            clipRect.top - this.oCoords.tl.y,&#xD;&#xA;            clipRect.width,&#xD;&#xA;            clipRect.height&#xD;&#xA;        );&#xD;&#xA;        ctx.stroke();&#xD;&#xA;        ctx.closePath();&#xD;&#xA;        ctx.restore();&#xD;&#xA;    }&#xD;&#xA;    var pugImg = new Image();&#xD;&#xA;    var pusImg = new Image();&#xD;&#xA;    pugImg.onload = function (img) {    &#xD;&#xA;        var pug = new fabric.Image(pugImg, {&#xD;&#xA;            angle: 0,&#xD;&#xA;            width: 500,&#xD;&#xA;            height: 500,&#xD;&#xA;            left: 245,&#xD;&#xA;            top: 35,&#xD;&#xA;            scaleX: 0.3,&#xD;&#xA;            scaleY: 0.3,&#xD;&#xA;            clipName: 'pug',&#xD;&#xA;            clipTo: function(ctx) { &#xD;&#xA;                ctx.save();&#xD;&#xA;                  ctx.setTransform(1, 0, 0, 1, 0, 0);&#xD;&#xA;                  ctx.rect(&#xD;&#xA;                    100, 100,&#xD;&#xA;                    200, 200&#xD;&#xA;                  );&#xD;&#xA;                clipRect1.render(ctx);&#xD;&#xA;                ctx.strokeStyle = "red";&#xD;&#xA;                ctx.stroke();&#xD;&#xA;                  ctx.restore();&#xD;&#xA;            }&#xD;&#xA;        });&#xD;&#xA;        canvas.add(pug);&#xD;&#xA;    };&#xD;&#xA;    pusImg.onload = function (img) {    &#xD;&#xA;        var pug = new fabric.Image(pugImg, {&#xD;&#xA;            angle: 0,&#xD;&#xA;            width: 500,&#xD;&#xA;            height: 500,&#xD;&#xA;            left: 245,&#xD;&#xA;            top: 235,&#xD;&#xA;            scaleX: 0.3,&#xD;&#xA;            scaleY: 0.3,&#xD;&#xA;            clipName: 'pus',&#xD;&#xA;            clipTo: function(ctx) { &#xD;&#xA;                ctx.save();&#xD;&#xA;                  ctx.setTransform(1, 0, 0, 1, 0, 0);&#xD;&#xA;                  ctx.rect(&#xD;&#xA;                    100, 100,&#xD;&#xA;                    200, 200&#xD;&#xA;                  );&#xD;&#xA;                clipRect2.render(ctx);&#xD;&#xA;                ctx.strokeStyle = "red";&#xD;&#xA;                ctx.stroke();&#xD;&#xA;                  ctx.restore();&#xD;&#xA;            }&#xD;&#xA;        });&#xD;&#xA;        canvas.add(pug);&#xD;&#xA;    };&#xD;&#xA;    pusImg.src = img02URL;&#xD;&#xA;    pugImg.src = img02URL;